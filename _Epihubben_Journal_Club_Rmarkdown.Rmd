---
title: "Rmarkdown introduction"
author: "Antoine K.D. Abalo"
date: "`r Sys.Date()`"
output:
  ioslides_presentation:
    keep_md: yes
  slidy_presentation: default
  beamer_presentation: default
subtitle: Epihubben Journal Club
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## Markdown

-   Lightweight markup language for creating formatted text using a plain-text editor
-   Created by **John Gruber** and **Aaron Swartz** in **2004**
-   **Aim:** Ease plain text conversion into rich text format, without any heavy codes  



## R Markdown

-   Package developped by **Yihui Xie** to integrated Markdown langage into R (around **2012** - 2014)
-   **Aim:** Facilitate reproducible research, allowing codes sharing with textual documentation on different form *(LaTeX, HTML, Markdown, etc.)* and for dynamic report generation with R. 
-   Yihui Xie: Author of **Knitr**, **blogdown**, **bookdown** etc.


## R markdown - Fonctionalities

-   R Markdown family of packages enables creating beautiful data science products like:

    -   books, blogs, websites, and presentations etc.

-   Aim: help you publish polished websites for sharing your work. E.g.:

    -   Present analyses or visualizations with R code ([Ex. My tutorial](https://rpubs.com/antoine-kossi/sir-analysis-with-r)),
    -   Slides (like this one you are seing),
    -   R package ([My package](https://package-metaan-rep.github.io/Metaan/)),
    -   Personal-professional websites, etc.

## Overview: Start using Rmarkdown

[![Overview panels](_Epihubben_Journal_Club_Rmarkdown_files/Images/1image.png)](%22C:\Users\antoi\OneDrive%20-%20Karolinska%20Institutet\Analyses_08_MIPI_with_Machine_Learning_01_Mipi_Using_Artificial_Intelligence\Scripts_Epihubben_Journal_Club_Rmarkdown_files\Images\1image.png%22) [![Overview panels](_Epihubben_Journal_Club_Rmarkdown_files/Images/2image.png)](%22C:\Users\antoi\OneDrive%20-%20Karolinska%20Institutet\Analyses_08_MIPI_with_Machine_Learning_01_Mipi_Using_Artificial_Intelligence\Scripts_Epihubben_Journal_Club_Rmarkdown_files\Images\2image.png%22)

## The magic behind

[![Overview panels](_Epihubben_Journal_Club_Rmarkdown_files/Images/5image.png)](%22C:\Users\antoi\OneDrive%20-%20Karolinska%20Institutet\Analyses_08_MIPI_with_Machine_Learning_01_Mipi_Using_Artificial_Intelligence\Scripts_Epihubben_Journal_Club_Rmarkdown_files\Images\5image.png%22)

When you run render, R Markdown feeds the .Rmd file to knitr, which executes all of the code chunks and creates a new markdown (.md) document which includes the code and its output.

The markdown file generated by knitr is then processed by pandoc which is responsible for creating the finished format.

## Codes chunks

[![Overview panels](_Epihubben_Journal_Club_Rmarkdown_files/Images/3image.png)](%22C:\Users\antoi\OneDrive%20-%20Karolinska%20Institutet\Analyses_08_MIPI_with_Machine_Learning_01_Mipi_Using_Artificial_Intelligence\Scripts_Epihubben_Journal_Club_Rmarkdown_files\Images\3image.png%22)

## Inline coding

-   You can insert chunks:
    -   keyboard shortcut **Ctrl + Alt + I** (OS X: **Cmd + Option + I**)
    -   Command in the editor toolbar
    -   Typing the chunk delimiters `{r} and`.
-   R Markdown run each code chunk and embed the results beneath the code chunk in your final report.

*NB: Chunk options for personnalised code output*

```{r echo=TRUE}
# This is an example 
a <- c(1,2,3,4)
cat("The output of a =", a)
```

## Tables - Figures

```{r pressure, echo=TRUE}
plot(pressure)
```

<!-- ## Tables - Figures -->

<!-- [![Overview panels](_Epihubben_Journal_Club_Rmarkdown_files/Images/4image.jpg)](%22"C:\Users\antoi\OneDrive - Karolinska Institutet\Analyses\_08_MIPI_with_Machine_Learning\_01_Mipi_Using_Artificial_Intelligence\Scripts\_Epihubben_Journal_Club_Rmarkdown_files\Images\4image.jpg"%22) -->

## Tables - Figures

```{r include=FALSE}

cohort <- as.data.frame(cbind(
  age_group = c("35-39", "40-44", "45-49", "50-54", "55-59", "60-64", "65-69", "70-74"), 
  Number_events = c(0, 1, 3, 5, 8, 8, 4, 1),
  Pers_years = c(480, 587, 680, 541, 479, 356, 157, 36)))

pop <- as.data.frame(cbind(
  age_group = c("35-39", "40-44", "45-49", "50-54", "55-59", "60-64", "65-69", "70-74"), 
  Number_events = c(81, 177, 336, 434, 419, 599, 907, 925),
  Pers_years = 3*c(27575, 28670, 26970, 21190, 13625, 17275, 17515, 14075)))

class(pop$Pers_years) <- "numeric"
class(pop$Number_events) <- "numeric" 
class(cohort$Pers_years) <- "numeric"
class(cohort$Number_events) <- "numeric" 

as.numeric(as.character(pop$Number_events))

pop$Rate <- pop$Number_events/pop$Pers_years

```

```{r include=FALSE}
pop$Rate
pop$Rate*100000
```

```{r Table1, echo=FALSE, warning=FALSE}
#install.packages("kableExtra")
library(kableExtra)
library(magrittr)
cohort %>%
  kbl(caption = "Example of embended table") %>%
  kable_classic(full_width = F, html_font = "Cambria")
```

## Interactive Documents

R Markdown documents are a perfect platform for interactive content. To make your documents interactive, add:

-   Interactive JavaScript visualizations based on htmlwidgets, or
-   Reactive components made with Shiny (<u>**upcoming coding clubs**</u>)

[Interactive table](https://rpubs.com/antoine-kossi/sir-analysis-with-r)

[Scientific articles](%22C:\Users\antoi\OneDrive%20-%20Karolinska%20Institutet\Analyses_08_MIPI_with_Machine_Learning_01_Mipi_Using_Artificial_Intelligence\Manuscript_08_Introduction.pdf%22)

## Additional resources

[The reference guide](https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf)

[The Rmarkdown cheatsheet](https://rmarkdown.rstudio.com/lesson-15.html)


### **Let's put this into practice**

-   If you don't have R and Rstudio installed, you can create a free account on [<u>R Studio Cloud</u>](https://posit.cloud/) and start using R.
